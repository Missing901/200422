<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>
    <!-- 包裹容器 -->
    <div class="wrap">
         <!--窗口侧边栏    toolBarWrap    toolBarOut-->
        <div class="toolBar toolBarWrap">
            <!--侧边栏内容-->
            <div class="content"></div>
            <div class="but list"></div>
            <!--中间的列表-->
            <ul class="toolList">
                <li class="pull">
                    <i class="tabIcon vip"></i>
                    <em>尚品会员</em>
                </li>
                <li class="pull">
                    <i class="tabIcon cart"></i>
                    <em>购物车</em>
                </li>
                <li class="pull">
                    <i class="tabIcon follow"></i>
                    <em>我的关注</em>
                </li>
                <li class="pull">
                    <i class="tabIcon history"></i>
                    <em>我的足迹</em>
                </li>
                <li class="pull">
                    <i class="tabIcon message"></i>
                    <em>我的消息</em>
                </li>
                <li class="pull">
                    <i class="tabIcon qus"></i>
                    <em>咨询</em>
                </li>
            </ul>
            <!--回到顶部-->
            <div class="back pull">
                <i class="tabIcon top"></i>
                <em>顶部</em>
            </div>
        </div>
        <!-- 头部 -->
        <header class="header">
            <!-- 头部导航区域 -->
            <div class="top">
                <!-- 版心 -->
                <div class="container">
                    <!-- 左侧 -->
                    <div class="loginList">
                        <p>尚品汇欢迎您！</p>
                        <p>
                            <span>请</span>
                            <a href="##">登录</a>
                            <a href="##" class="register">免费注册</a>
                        </p>
                    </div>
                    <!-- 右侧 -->
                    <div class="typeList">
                        <a href="##">我的订单</a>
                        <a href="##">我的购物车</a>
                        <a href="##">我的尚品汇</a>
                        <a href="##">尚品汇会员</a>
                        <a href="##">企业采购</a>
                        <a href="##">关注尚品汇</a>
                        <a href="##">合作招商</a>
                        <a href="##">商家后台</a>
                    </div>
                </div>
            </div>
            <!-- 搜索框区域 -->
            <div class="bottom">
                <h1 class="logoArea">
                    <a href="##">
                        <img src="./img/Logo.png" alt="">
                    </a>
                </h1>
                <div class="searchArea">
                    <form action="##">
                        <input type="text">
                        <button>搜索</button>
                    </form>
                </div>
            </div>
        </header>
        <!-- 商品导航栏 -->
        <div class="typeNav">
            <div class="container">
                <h2>全部商品分类</h2>
                <nav>
                    <a href="##">服装城</a>
                    <a href="##">美妆馆</a>
                    <a href="##">尚品汇超市</a>
                    <a href="##">全球购</a>
                    <a href="##">闪购</a>
                    <a href="##">团购</a>
                    <a href="##">有趣</a>
                    <a href="##">秒杀</a>
                </nav>
            </div>
        </div>
        <!-- 主要内容区 -->
        <div class="con">
            <!-- 路径导航 -->
            <div class="conPin">
                
            </div>
            <!-- 内容区 -->
            <div class="mainCon">
                <!-- 左侧放大镜区域 -->
                <div class="previewWrap">
                    <!-- 放大镜效果区域 -->
                    <div class="preview">
                        <div class="zoom">
                            <!-- 小图 -->
                            <img src="./img/s1.png" alt="">
                            <!-- 蒙板 -->
                        </div>
                        <!-- 大图 -->
                    </div>
                    <!-- 缩略图区域 -->
                    <div class="specScroll">
                        <a href="##" class="prev">&lt;</a>
                        <div class="items">
                            <ul class="list">
                                <!-- <li><img src="./img/s1.png" alt=""></li>
                                <li><img src="./img/s2.png" alt=""></li>
                                <li><img src="./img/s3.png" alt=""></li>
                                <li><img src="./img/s1.png" alt=""></li>
                                <li><img src="./img/s2.png" alt=""></li>
                                <li><img src="./img/s3.png" alt=""></li>
                                <li><img src="./img/s1.png" alt=""></li>
                                <li><img src="./img/s2.png" alt=""></li> -->
                            </ul>
                        </div>
                        <a href="##" class="next">&gt;</a>
                    </div>
                </div>
                <!-- 右侧信息区域 -->
                <div class="infoWrap">
                    <div class="info1">
                        <!-- <h3>Apple iPhone 6s（A1700）64G玫瑰金色 移动通信电信4G手机</h3>
                        <p>推荐选择下方[移动优惠购],手机套餐齐搞定,不用换号,每月还有花费返</p>
                        <div class="priceArea">
                                <div class="priceArea1">
                                <div class="title">价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</div>
                                <div class="price">
                                    <i>￥</i>
                                    <em>5299</em>
                                    <span>降价通知</span>
                                </div>
                                <div class="remark">
                                    <i>累计评价</i>
                                    <span>670000</span>
                                </div>
                            </div>
                            <div class="priceArea2">
                                <div class="title">促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</div>
                                <div class="fixWidth">
                                    <i>加价购</i>
                                    <em> 满999.00另加20.00元，或满1999.00另加30.00元，或满2999.00另加40.00元，即可在购物车换购热销商品</em>
                                </div>
                            </div>
                        </div>
                        <div class="support">
                            <div class="supportArea">
                                <div class="title">支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持</div>
                                <p>以旧换新，闲置手机回收 4G套餐超值抢 礼品购</p>
                            </div>
                            <div class="supportArea">
                                <div class="title">配&nbsp;送&nbsp;至</div>
                                <p>广东省 深圳市 宝安区</p>
                            </div>
                        </div> -->
                    </div>
                     <!-- 筛选区 -->
                    <div class="choose">
                        <!-- 选择区 -->
                        <div class="chooseArea">
                            <div class="choosed">
                               <!-- 挑选的样式 -->
                            </div>
                            <!-- 选择类型 -->
                        </div>
                    </div>
                    <div class="cartWrap">
                        <div class="controls">
                            <input type="text" value="1">
                            <a href="##" class="puls">+</a>
                            <a href="##" class="minus">-</a>
                        </div>
                        <div class="add">
                            <a href="##">加入购物车</a>
                        </div>
                    </div>
                </div>
               
            </div>
        <!-- 商品详情 -->
        <section class="product">
            <!-- 侧边栏 -->
            <aside>
                <!-- 选项卡按钮 -->
                <div class="tabWrap">
                    <h4 class="active">相关分类</h4>
                    <h4>推荐品牌</h4>
                </div>
                <!-- 选项卡信息 -->
                <div class="tabContent">
                    <!-- 相关分类信息 -->
                    <div class="tabItem active">
                        <ul class="partList">
                            <li>手机</li>
                            <li>手机壳</li>
                            <li>内存卡</li>
                            <li>Iphone配件</li>
                            <li>贴膜</li>
                            <li>手机耳机</li>
                            <li>移动电源</li>
                            <li>平板电脑</li>
                        </ul>
                        <ul class="goodsList">
                            <li>
                                <div class="gImg">
                                    <img src="img/part01.png" alt="">
                                </div>
                                <div class="attr">Apple苹果iPhone 6s (A1699)</div>
                                <div class="price">¥6088.00</div>
                                <a href="##">加入购物车</a>
                            </li>
                            <li>
                                <div class="gImg">
                                    <img src="img/part01.png" alt="">
                                </div>
                                <div class="attr">Apple苹果iPhone 6s (A1699)</div>
                                <div class="price">¥6088.00</div>
                                <a href="##">加入购物车</a>
                            </li>
                            <li>
                                <div class="gImg">
                                    <img src="img/part01.png" alt="">
                                </div>
                                <div class="attr">Apple苹果iPhone 6s (A1699)</div>
                                <div class="price">¥6088.00</div>
                                <a href="##">加入购物车</a>
                            </li>
                            <li>
                                <div class="gImg">
                                    <img src="img/part01.png" alt="">
                                </div>
                                <div class="attr">Apple苹果iPhone 6s (A1699)</div>
                                <div class="price">¥6088.00</div>
                                <a href="##">加入购物车</a>
                            </li>
                            <li>
                                <div class="gImg">
                                    <img src="img/part01.png" alt="">
                                </div>
                                <div class="attr">Apple苹果iPhone 6s (A1699</div>
                                <div class="price">¥6088.00</div>
                                <a href="##">加入购物车</a>
                            </li>
                        </ul>
                    </div>
                    <!-- 推荐品牌信息 -->
                    <div class="tabItem">推荐品牌</div>
                </div>
            </aside>
            <!-- 右侧区域 -->
            <div class="detail">
                <!-- 选择搭配 -->
                <div class="fitting">
                    <h4>选择搭配</h4>
                    <div class="goodSutis">
                        <div class="master">
                            <img src="img/l-m01.png" alt="">
                            <p>￥5299</p>
                            <i>+</i>
                        </div>
                        <ul class="suits">
                            <li class="suitsItem">
                                <img src="img/dp01.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="39">
                                    <span>39</span>
                                </label>
                            </li>
                            <li class="suitsItem">
                                <img src="img/dp02.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="39">
                                    <span>39</span>
                                </label>
                            </li>
                            <li class="suitsItem">
                                <img src="img/dp03.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="39">
                                    <span>39</span>
                                </label>
                            </li>
                            <li class="suitsItem">
                                <img src="img/dp04.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label>
                                    <input type="checkbox" value="39">
                                    <span>39</span>
                                </label>
                            </li>
                        </ul>
                        <div class="result">
                            <p class="num">已选购0件商品</p>
                            <p class="priceTit">套餐价</p>
                            <p class="price">￥5299</p>
                            <button class="addShopCar">加入购物车</button>
                        </div>
                    </div>
                </div>
                <!-- 商品介绍 -->
                <div class="intro">
                    <ul class="tabWrap">
                        <li class="active"><a href="##">商品介绍</a></li>
                        <li><a href="##"></a>规格与包装</li>
                        <li><a href="##"></a>售后保障</li>
                        <li><a href="##"></a>商品评论</li>
                        <li><a href="##"></a>手机社区</li>
                    </ul>
                    <div class="tabContent">
                        <div class="tabItem active">
                            <ul>
                                <li>分辨率：1920*1080(FHD)</li>
                                <li>后置摄像头：1200万像素</li>
                                <li>前置摄像头：500万像素</li>
                                <li>核 数：其他</li>
                                <li>频 率：以官网信息为准</li>
                                <li>品牌： Apple</li>
                                <li>商品名称：APPLEiPhone 6s Plus</li>
                                <li>商品编号：1861098</li>
                                <li>商品产地：中国大陆</li>
                                <li>商品毛重：0.51kg</li>
                                <li>热点：指纹识别，Apple Pay，金属机身，拍照神器</li>
                                <li>系统：苹果（IOS）</li>
                                <li>像素：1000-1600万品毛重：0.51kg</li>
                                <li>机身内存：64GB</li>
                            </ul>
                            <img src="img/intro01.png" alt="">
                            <img src="img/intro02.png" alt="">
                            <img src="img/intro03.png" alt="">
                        </div>
                        <div class="tabItem">规格与包装</div>
                        <div class="tabItem">售后保障</div>
                        <div class="tabItem">商品评论</div>
                        <div class="tabItem">手机社区</div>
                    </div>
                </div>
            </div>
        </section>
        <div class="other">
            <p>猜你喜欢</p>
            <ul class="like">
                <li>
                    <img src="./img/itemlike01.png" alt="">
                    <p class="introduction">DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                    <p class="price">
                        <i>￥</i>
                        <em>3699.00</em>
                    </p>
                    <p class="appraise">已有6人评价</p>
                </li>
                <li>
                    <img src="./img/itemlike02.png" alt="">
                    <p class="introduction">Apple苹果iPhone 6s/6s Plus 16G 64G 128G</p>
                    <p class="price">
                        <i>￥</i>
                        <em>4388.00</em>
                    </p>
                    <p class="appraise">已有700人评价</p>
                </li>
                <li>
                    <img src="./img/itemlike03.png" alt="">
                    <p class="introduction">DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                    <p class="price">
                        <i>￥</i>
                        <em>4088.00</em>
                    </p>
                    <p class="appraise">已有669人评价</p>
                </li>
                <li>
                    <img src="./img/itemlike04.png" alt="">
                    <p class="introduction">DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                    <p class="price">
                        <i>￥</i>
                        <em>4088.00</em>
                    </p>
                    <p class="appraise">已有170人评价</p>
                </li>
                <li>
                    <img src="./img/itemlike05.png" alt="">
                    <p class="introduction">DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                    <p class="price">
                        <i>￥</i>
                        <em>4088.00</em>
                    </p>
                    <p class="appraise">已有338人评价</p>
                </li>
                <li>
                    <img src="./img/itemlike06.png" alt="">
                    <p class="introduction">DELL戴尔Ins 15MR-7528SS 15英寸 银色 笔记本</p>
                    <p class="price">
                        <i>￥</i>
                        <em>4088.00</em>
                    </p>
                    <p class="appraise">已有625人评价</p>
                </li>
            </ul>
        </div>
        
    </div>
    <div class="ending">
        <div class="inside">
            <div class="top">
                <div>
                    <h4>购物指南</h4>
                    <ul>
                        <li>购物流程</li>
                        <li>会员介绍</li>
                        <li>生活旅行/团购</li>
                        <li>常见问题</li>
                        <li>购物指南</li>
                    </ul>
                </div>
                <div>
                    <h4>配送方式</h4>
                    <ul>
                        <li>上门自提</li>
                        <li>211限时达</li>
                        <li>配送服务查询</li>
                        <li>配送费收取标准</li>
                        <li>海外配送</li>
                    </ul>
                </div>
                <div>
                    <h4>支付方式</h4>
                    <ul>
                        <li>货到付款</li>
                        <li>在线支付</li>
                        <li>分期付款</li>
                        <li>邮局汇款</li>
                        <li>公司转账</li>
                    </ul>
                </div>
                <div>
                    <h4>售后服务</h4>
                    <ul>
                        <li>售后政策</li>
                        <li>价格保护</li>
                        <li>退款说明</li>
                        <li>返修/退换货</li>
                        <li>取消订单</li>
                    </ul>
                </div>
                <div>
                    <h4>特色服务</h4>
                    <ul>
                        <li>夺宝岛</li>
                        <li>DIY装机</li>
                        <li>延保服务</li>
                        <li>尚品汇E卡</li>
                        <li>尚品汇通信</li>
                    </ul>
                </div>
                <div>
                    <h4>帮助中心</h4>
                    <ul>
                        <img src="./img/wx_cz.jpg" alt="">
                    </ul>
                </div>
                
            </div>
            <div class="bottom">
                <ul>
                    <li>关于我们</li>
                    <li>联系我们</li>
                    <li>商家入驻</li>
                    <li>营销中心</li>
                    <li>友情链接</li>
                    <li>关于我们</li>
                    <li>联系我们</li>
                    <li>商家入驻</li>
                    <li>营销中心</li>
                    <li>友情链接</li>
                </ul>
                <p>地址：北京市昌平区宏福科技园综合楼6层</p>
                <p>京ICP备19006430号</p>
            </div>
        </div>
    </div>
    <script src="js/data.js"></script>
    <script>
        window.onload = function () {
            // 放大镜大图索引
            var magnifierId = 0
            var changeNum = 1
            magnifier();
           function magnifier() {
                //    模拟后台数据
            
                var imgsrc = goodData.imgsrc
                //    获取小图容器
                var zoomNode = document.querySelector('.wrap .con .mainCon .previewWrap .preview .zoom')
                // 获取放大镜外层容器
                var previewNode = document.querySelector('.wrap .con .mainCon .previewWrap .preview')
                //    初始化蒙板
                var maskNode = null;
                // 初始化大图容器
                var bigImgBoxNode = null;
                // 初始化大图
                var bigImgNode = null;
                //    鼠标移入事件
                previewNode.onmouseenter = function () {
                    // 当鼠标移入 创建蒙板 大图  大图容器
                    // 判断  当没有蒙板时创建
                    if(!maskNode){
                        // 创建蒙板标签
                        maskNode = document.createElement('div');
                        // 给蒙板添加属性名
                        maskNode.className = 'mask';
                        // 将蒙板放入小图容器中
                        zoomNode.appendChild(maskNode)
                        // 创建大图容器
                        bigImgBoxNode = document.createElement('div')
                        // 给大图容器添加属性名
                        bigImgBoxNode.className = 'bigImgBox'
                        // 将大图容器放入放大镜效果区域
                        previewNode.appendChild(bigImgBoxNode)
                        // 创建大图
                        bigImgNode = new Image()
                        bigImgNode.src = imgsrc[magnifierId].b
                        // 将大图放入大图容器中
                        bigImgBoxNode.appendChild(bigImgNode)
                        
                    }
                    // 鼠标移动事件
                    zoomNode.onmousemove = function (event) {
                        //  蒙板上左侧距离小图的距离 = 鼠标坐标 - 蒙板的一半 - 小图到视口上左侧的距离
                        var maskPosition = {
                            left : event.clientX - zoomNode.getBoundingClientRect().left - maskNode.offsetWidth / 2,
                            top : event.clientY - zoomNode.getBoundingClientRect().top - maskNode.offsetHeight / 2
                        }
                        // 判断边界
                        // 当蒙板左侧到小图距离小于等于0时 距离等于0
                        if (maskPosition.left <= 0 ) {
                            maskPosition.left = 0
                        }else if(maskPosition.left >= zoomNode.clientWidth - maskNode.offsetWidth){
                            maskPosition.left = zoomNode.clientWidth - maskNode.offsetWidth
                        }
                        if (maskPosition.top <= 0) {
                            maskPosition.top = 0
                        }else if (maskPosition.top >= zoomNode.clientHeight - maskNode.offsetHeight) {
                            maskPosition.top = zoomNode.clientHeight - maskNode.offsetHeight
                        }
                        // 鼠标移动给蒙板赋值
                        maskNode.style.left = maskPosition.left + 'px'
                        maskNode.style.top = maskPosition.top + 'px'
                        // 计算比例
                        var scale = (zoomNode.clientWidth - maskNode.offsetWidth) / (bigImgNode.offsetWidth - bigImgBoxNode.clientWidth)
                        // 计算大图偏移
                        var bigImgPosition = {
                            left : maskPosition.left / scale,
                            top : maskPosition.top / scale
                        }
                        // 大图移动
                        bigImgNode.style.marginLeft = -bigImgPosition.left + 'px'
                        bigImgNode.style.marginTop = -bigImgPosition.top + 'px'
                    }
                    // 鼠标移出事件
                    previewNode.onmouseleave = function () {
                        // 删除蒙板  大图容器
                        zoomNode.removeChild(maskNode)
                        previewNode.removeChild(bigImgBoxNode)
                        // 初始化蒙板 大图 大图容器
                        maskNode = null
                        bigImgBoxNode = null
                        bigImgNode = null
                        // 事件解绑 
                        previewNode.onmouseleave = null
                        zoomNode.onmousemove = null
                    }
                }
            }
            // 获取元素非行内样式
            function getStyle(obj,attr) {
                if(obj.currentStyle){
                   return obj.currentStyle(attr);
                }else{
                   return window.getComputedStyle(obj)[attr];
                }
            }
            // 缩略图滑动效果
            thumbnail();
            function thumbnail() {
                 // 获取容器
                 var listNode = document.querySelector('.wrap .con .mainCon .previewWrap .specScroll .items .list')
                //  生成缩略图结构
                var imgSrc = goodData.imgsrc
                imgSrc.forEach(function (item){
                    // 创建li
                    var liNode = document.createElement('li')
                    // 创建图片
                    var imgNode = new Image()
                    imgNode.src = item.s
                    liNode.appendChild(imgNode)
                    listNode.appendChild(liNode)

                })
                // 获取前后翻按钮
                var prevNode = document.querySelector('.wrap .con .mainCon .previewWrap .specScroll .prev')
                var nextNode = document.querySelector('.wrap .con .mainCon .previewWrap .specScroll .next')
               
                // 获取li集合
                var liNodes = document.querySelectorAll('.wrap .con .mainCon .previewWrap .specScroll .items .list>li')
                // 初始化移动距离
                var tempLenght = 0
                // 显示图片张数
                var viewNum = 5
                // 每次移动张数
                var moveNum = 2
                // 计算总共可以移动的长度((总图片数 - 显示图片数) * (li宽度 + 右外边距))
                var countLength = (liNodes.length - viewNum) * (liNodes[0].offsetWidth + parseInt(getStyle(liNodes[0],'marginRight')))
                // 计算每次移动距离((li宽度+右外边距)*每次移动张数)
                var moveLength = (liNodes[0].offsetWidth + parseInt(getStyle(liNodes[0],'marginRight'))) * moveNum
                // 向后翻点击事件
                nextNode.onclick = function () {
                    
                    // 当已移动距离小于可移动距离时
                    if (tempLenght < countLength) {
                        
                        // 当剩余可移动距离大于每次移动距离时
                        if (countLength - tempLenght > moveLength) {
                            tempLenght += moveLength
                            listNode.style.left = -tempLenght + 'px'
                        }else{
                            // 剩余距离小于每次移动距离时 直接走完
                            tempLenght += (countLength - tempLenght)
                            listNode.style.left = -tempLenght + 'px'
                        }
                    }
                }
                prevNode.onclick = function () {
                    if (tempLenght > 0) {
                        if (tempLenght > moveLength) {
                            tempLenght -= moveLength
                            listNode.style.left = -tempLenght + 'px'
                        }else{
                            tempLenght = 0
                            listNode.style.left = tempLenght + 'px'
                        }
                    }
                }
            }
            // 缩略图点击切换
            thumbnailClick()
            function thumbnailClick() {
                // 获取缩略图容器集合
                var scrollItems = document.querySelectorAll('.wrap .con .mainCon .previewWrap .specScroll .items .list li img')
                // 获取小图
                var zoomImgNode = document.querySelector('.wrap .con .mainCon .previewWrap .preview .zoom img')
                // 遍历
                for (let i = 0; i < scrollItems.length; i++) {
                    // 绑定单击响应事件
                    scrollItems[i].onclick = function () {
                        for (let j = 0; j < scrollItems.length; j++) {
                            if (scrollItems[j] == this) {
                                magnifierId = j
                            }
                            
                        }
                        zoomImgNode.src = this.src
                    }
                    
                }
            }
            screening();
            function screening() {
                var crumbData = goodData.goodsDetail.crumbData
                // 选择元素容器
                var chooseAreaNode = document.querySelector('.wrap .con .mainCon .choose .chooseArea')
                
                // 循环
                crumbData.forEach(function (item){
                    // 创建dl元素
                    var dlNode = document.createElement('dl')
                    // 创建dt元素
                    var dtNode = document.createElement('dt')
                    // 通过tatle属性  给dt设置文本
                    dtNode.innerHTML = item.title
                    // 将dt放入dl中
                    dlNode.appendChild(dtNode)
                    // 遍历每一个对象中的tatle属性
                    item.data.forEach(function (item,index) {
                        // 创建dd元素
                        var ddNode = document.createElement('dd')
                        // 给dd设置文本
                        ddNode.innerHTML = item.type;
                        // 给dd添加自定义属性
                        ddNode.setAttribute('changePrice',item.changePrice)
                        // 将dd放入dl中
                        dlNode.appendChild(ddNode)
                    })
                    // 将dl放入元素容器中
                    chooseAreaNode.appendChild(dlNode)
                })
                // 获取dl集合
                var dlList = chooseAreaNode.getElementsByTagName('dl')
                // 定义一个数组  数组中保存筛选条件
                var arr = new Array(dlList.length)
                arr.fill(0)
                // 遍历dl标签 给当前dl标签中的dd标签绑定单击响应函数
                for (var i = 0; i < dlList.length; i++) {
                    dlList[i].index = i;
                    (function () {
                        // 获取每一个dl的dd
                        var ddList = dlList[i].getElementsByTagName('dd')
                        // 遍历dd
                        for (var j = 0; j < ddList.length; j++) {
                            // 给dd绑定单击响应函数
                            ddList[j].onclick = function () {
                                // dd高亮切换 
                                for (var i = 0; i < ddList.length; i++) {
                                    // 恢复所有dd默认颜色
                                    ddList[i].style.color = '#666'
                                    
                                }
                                // 给当前dd添加高亮
                                this.style.color = 'red' 
                                
                                // 根据当前dd  找到所在的dl获取索引  修改数组内容
                                arr[this.parentNode.index] = this
                                priceSum(arr)
                                // 获取存放选择结果的容器
                                var choosedNode = document.querySelector('.wrap .con .mainCon .choose .chooseArea .choosed')
                                // 每次创建元素之前先把容器清空
                                choosedNode.innerHTML = ''
                                // 遍历数组
                                arr.forEach(function (item,index) {
                                    if (item) {
                                        // 进了if说明数组里有值
                                        // 创建mark标签
                                        var markNode = document.createElement('mark')
                                        // 把数组内容放入mark标签中
                                        markNode.innerHTML = item.innerHTML
                                        // 把mark标签放入容器中
                                        choosedNode.appendChild(markNode)
                                       
                                        // 创建a标签 
                                        var aNode = document.createElement('a')
                                        aNode.setAttribute('num',index)
                                        // 给a标签添加文本
                                        aNode.innerHTML = 'X'
                                        // 把a标签放入mark标签中
                                        markNode.appendChild(aNode)
                                    }
                                })
                                // 获取a标签
                                var aList = choosedNode.querySelectorAll('mark>a')
                                for (let i = 0; i < aList.length; i++) {
                                    // 给a标签设置单击响应函数
                                    aList[i].onclick = (function () {
                                        // 获取当前a标签的索引
                                        var num = parseInt(this.getAttribute('num'))
                                        // 删除a标签所在的父元素
                                        this.parentNode.parentNode.removeChild(this.parentNode)
                                        // 找到当前a标签所对应的的dd
                                        var ddList = dlList[num].querySelectorAll('dd')
                                        // dd高亮切换
                                        for (let i = 0; i < ddList.length; i++) {
                                            ddList[i].style.color = '#666'
                                            
                                        }
                                        ddList[0].style.color = 'red'
                                        // 每次删除完把数组当前对应的元素清空
                                        arr[num] = 0
                                        priceSum(arr)
                                    })
                                    
                                }
                            }
                            
                        }
                    })();
                }
                goodsDateil()
            function goodsDateil() {
                var info1Node = document.querySelector('.wrap .con .mainCon .infoWrap .info1')
                var infoDate = goodData.goodsDetail
                var info1Content = `<h3>${infoDate.title}</h3>
                        <p>${infoDate.recommend}</p>
                        <div class="priceArea">
                                <div class="priceArea1">
                                <div class="title">价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</div>
                                <div class="price">
                                    <i>￥</i>
                                    <em>${infoDate.price}</em>
                                    <span>降价通知</span>
                                </div>
                                <div class="remark">
                                    <i>累计评价</i>
                                    <span>${infoDate.evaluateNum}</span>
                                </div>
                            </div>
                            <div class="priceArea2">
                                <div class="title">促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</div>
                                <div class="fixWidth">
                                    <i>${infoDate.promoteSales.type}</i>
                                    <em> ${infoDate.promoteSales.content}</em>
                                </div>
                            </div>
                        </div>
                        <div class="support">
                            <div class="supportArea">
                                <div class="title">支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持</div>
                                <p>${infoDate.support}</p>
                            </div>
                            <div class="supportArea">
                                <div class="title">配&nbsp;送&nbsp;至</div>
                                <p>${infoDate.address}</p>
                            </div>
                        </div>`
                        info1Node.innerHTML = info1Content
            }
                // 计算价钱
                function priceSum(arr) {
                    // 获取数据
                    var newPrice = goodData.goodsDetail.price
                    // 遍历数组
                    arr.forEach(function (item) {
                        // 判断数组里是否有值
                        if (item) {
                            newPrice += parseInt(item.getAttribute('changeprice'))
                        }
                        // 获取价钱容器
                        var priceNode = document.querySelector('.wrap .con .mainCon .infoWrap .info1 .priceArea .priceArea1 .price em')
                        priceNode.innerHTML = newPrice
                    })
                    // 获取价钱容器
                    var priceNode = document.querySelector('.wrap .con .mainCon .infoWrap .priceArea .priceArea1 .price em')
                    priceNode.innerHTML = newPrice; 
                    // 只要计算价钱 就改变选择搭配的价钱
                    var choosePriceNode = document.querySelector('.wrap .product .detail .fitting .goodSutis .master p')
                    choosePriceNode.innerHTML = '¥'+(newPrice*changeNum);
                    //   计算搭配完成的总价
                    //     获取搭配后的总价元素
                    var chooseAllPrice = document.querySelector('.wrap .product .detail .fitting .goodSutis .result .price')
                    //   获取搭配区域所有的复选框
                    var chooseAllCheckBox = document.querySelectorAll('.wrap .product .detail .fitting .goodSutis .suits .suitsItem input')
                    chooseAllCheckBox.forEach(function (item) {
                    if(item.checked){
                        newPrice += parseInt(item.value);
                    }
                        chooseAllPrice.innerHTML = '¥'+(newPrice*changeNum);
                    })
                }
            }
            //      选择搭配价钱
            fittingPrice();
            function fittingPrice() {
                    //  获取搭配后的总价元素
                var chooseAllPrice = document.querySelector('.wrap .product .detail .fitting .goodSutis .result .price')
                        // 获取搭配区域所有的复选框
                var chooseAllCheckBox = document.querySelectorAll('.wrap .product .detail .fitting .goodSutis .suits .suitsItem input')
                        // 给所有的复选框 绑定单击事件
                for (var i = 0; i < chooseAllCheckBox.length; i++) {
                    chooseAllCheckBox[i].onclick = function () {
                        //  获取原价元素
                        var choosePriceNode = document.querySelector('.wrap .product .detail .fitting .goodSutis .master p')
                        //   获取原价
                        var choosePrice = parseInt(choosePriceNode.innerHTML.substr(1));
                        //  遍历所有的复选框 判断哪一个被选中
                        chooseAllCheckBox.forEach(function (item) {
                        //  如果当前的多选框被选中 则返回的checked属性为true
                            if(item.checked){
                                choosePrice+= parseInt(item.value);
                            }
                        });
                        chooseAllPrice.innerHTML = '¥'+choosePrice;
                    }
                }
            }
            //        商品数量交互
            goodsNum();
            function goodsNum() {
                var inputNode = document.querySelector('.wrap .con .mainCon .cartWrap .controls input');
                var plusNode = document.querySelector('.wrap .con .mainCon .cartWrap .controls .puls');
                var minusNode = document.querySelector('.wrap .con .mainCon .cartWrap .controls .minus');

                plusNode.onclick = function () {
                    changeNum++;
                    inputNode.value = changeNum;
                    changeFittingPrice()
                };
                minusNode.onclick = function () {
                // 商品数量最小值为1
                    if(changeNum > 1){
                        changeNum--;
                        inputNode.value = changeNum;
                        changeFittingPrice()
                    }
                }
                    // 封装一个 改变数量就改变搭配总价的函数
                function changeFittingPrice() {
                    var priceNode = document.querySelector('.wrap .con .mainCon .infoWrap .priceArea .priceArea1 .price em')
                    //  需要修改的价格就是  单价*数量
                    var finalPrice = priceNode.innerHTML*changeNum;
                    console.log(finalPrice);

                    // 改变选择搭配价钱
                    var choosePrice = document.querySelector('.wrap .product .detail .fitting .goodSutis .master p')
                    choosePrice.innerHTML = '¥'+finalPrice;

                    //  修改搭配后的价钱
                    //  获取搭配后的总价元素
                    var chooseAllPrice = document.querySelector('.wrap .product .detail .fitting .goodSutis .result .price')
                    //  获取搭配区域所有的复选框
                    var chooseAllCheckBox = document.querySelectorAll('.wrap .product .detail .fitting .goodSutis .suits .suitsItem input')
                    chooseAllCheckBox.forEach(function (item) {
                        if(item.checked){
                            finalPrice += parseInt(item.value);
                        }
                        chooseAllPrice.innerHTML = '¥'+finalPrice;
                    })
                }
            }
            // 路径导航
            pathUrl()
            function pathUrl() {
                // 获取数据
                var path = goodData.path
                // 获取父元素
                var conPinNode = document.querySelector('.wrap .con .conPin')
                // 遍历数组
                path.forEach(function (item,index) {
                    // 创建a标签
                    var aNode = document.createElement('a')
                    // 判断数据里有没有url属性
                    if(index == path.length - 1){
                        aNode.innerHTML = item.title
                        conPinNode.appendChild(aNode)
                    }else{
                        aNode.href = item.url
                        aNode.innerHTML = item.title
                        conPinNode.appendChild(aNode)
                        var iNode = document.createElement('i')
                        iNode.innerHTML = '/'
                        conPinNode.appendChild(iNode)
                    }
                })
            }
            
            function Tab(btns,content) {
                this.tabBtn = btns
                this.content = content
                var _this = this
                for (let i = 0; i < this.tabBtn.length; i++) {
                    this.tabBtn[i].index = i
                    this.tabBtn[i].onclick = function () {
                        _this.clickBtn(this)
                    }
                    
                }
            }
            Tab.prototype.clickBtn = function (btn) {
                //  btn接受的就是当前点击的事件源
                //   选项卡切换
                for (var i = 0; i < this.tabBtn.length; i++) {
                    this.tabBtn[i].className = '';
                    this.content[i].style.display = 'none';
                }
                btn.className = 'active';
                this.content[btn.index].style.display = 'block';
            }
            asideNav();
            function asideNav() {
                var tabNodes = document.querySelectorAll('.wrap .product > aside .tabWrap>h4')
                var contentNodes = document.querySelectorAll('.wrap .product > aside .tabContent .tabItem')
                new Tab(tabNodes,contentNodes)
            }
            //      评论区域tab切换
            intro();
            function intro() {
                var tabNodes = document.querySelectorAll('.wrap .product .detail .intro .tabWrap li');
                var contentNodes = document.querySelectorAll('.wrap .product .detail .intro .tabContent .tabItem')
            new Tab(tabNodes,contentNodes);
            }
            // 侧边栏效果
            asideShow();
            function asideShow() {
                var butNode = document.querySelector('.wrap .toolBar .but');
                var toolBarNode = document.querySelector('.wrap .toolBar');
                var flag = true;//默认是闭合

                butNode.onclick = function () {
                if(flag){
                // 原本是true代表闭合     这次点击就要执行展开的逻辑
                    toolBarNode.className = 'toolBar toolBarOut';
                    this.className = 'but open';
                //                  flag = false
                }else{
                // 原本是flase代表展开   这次点击就要执行闭合逻辑
                    toolBarNode.className = 'toolBar toolBarWrap';
                    this.className = 'but list';
                // flag = true
                }
                flag = !flag;
                }

                // 鼠标滑过小图逻辑
                var pullList = document.querySelectorAll('.wrap .toolBar .pull');
                var tabIconList = document.querySelectorAll('.wrap .toolBar .pull .tabIcon');
                var tabTxtList = document.querySelectorAll('.wrap .toolBar .pull em');

                for (var i = 0; i < pullList.length; i++) {
                    pullList[i].index = i;
                    pullList[i].onmouseenter = function () {
                        tabTxtList[this.index].style.left = '-59px';
                        tabTxtList[this.index].style.backgroundColor = '#e1251b';
                        tabIconList[this.index].style.backgroundColor = '#e1251b';
                    };
                    pullList[i].onmouseleave = function () {
                    tabTxtList[this.index].style.left = '35px';
                    tabTxtList[this.index].style.backgroundColor = '#7a6e6e';
                    tabIconList[this.index].style.backgroundColor = '#7a6e6e';
                    }
                }


            }
        }
    </script>
</body>
</html>